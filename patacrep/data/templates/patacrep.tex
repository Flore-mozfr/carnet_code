%!- Copyright (C) 2014 The Patacrep team (www.patacrep.com)
%!-
%!- This program is free software; you can redistribute it and/or
%!- modify it under the terms of the GNU General Public License
%!- as published by the Free Software Foundation; either version 2
%!- of the License, or (at your option) any later version.
%!-
%!- This program is distributed in the hope that it will be useful,
%!- but WITHOUT ANY WARRANTY; without even the implied warranty of
%!- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%!- GNU General Public License for more details.
%!-
%!- You should have received a copy of the GNU General Public License
%!- along with this program; if not, write to the Free Software
%!- Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
%!- MA  02110-1301, USA.
%!-
%!- The latest version of this program can be obtained from
%!- https://github.com/patacrep/

(* variables *)
schema:
  type: //rec
  optional:
    version: //str
  required:
    subtitle: //str
    url: //str
    email: //str
    picture: //str
    picturecopyright: //str
    footer: //str
    bgcolor:
      type: //rec
      required:
        songnumber: //str
        note: //str
        index: //str

default:
  subtitle: ""
  version: ""
  url: http://www.patacrep.com"
  email: crep@team-on-fire.com
  picture: img/treble_a
  picturecopyright: "Dbolton \\url{http://commons.wikimedia.org/wiki/User:Dbolton}"
  footer: "Generated using Songbook (\\url{http://www.patacrep.com})"
  bgcolor:
    songnumber: D1E4AE
    note: D1E4AE
    index: D1E4AE
(* endvariables -*)

(*- extends "default.tex" -*)

(* block songbookpackages *)
\usepackage[
    (* for option in bookoptions *)((option)),
    (* endfor *)
    ]{crepbook}
(* endblock *)

(* block songbookpreambule *)
\usepackage[
     a4paper % paper size
     ,includeheadfoot % include header and footer into text size
     ,hmarginratio=1:1 % ratio between inner and outer margin (default)
     ,outer=1.8cm % outer margin (right)
     ,vmarginratio=1:1 % ratio between top and bottom margin
     ,bmargin=1.3cm % bottom margin
     ]{geometry}

(( super() ))

\pagestyle{empty}

\definecolor{SongNumberBgColor}{HTML}{(( _template["patacrep.tex"].bgcolor.songnumber ))}
\definecolor{NoteBgColor}{HTML}{(( _template["patacrep.tex"].bgcolor.note ))}
\definecolor{IndexBgColor}{HTML}{(( _template["patacrep.tex"].bgcolor.index ))}

\renewcommand{\snumbgcolor}{SongNumberBgColor}
\renewcommand{\notebgcolor}{NoteBgColor}
\renewcommand{\idxbgcolor}{IndexBgColor}

\definecolor{tango-green-3}{HTML}{4e9a06}
\definecolor{tango-blue-3}{HTML}{204a87}
\usepackage[
    bookmarks,
    bookmarksopen,
    hyperfigures=true,
    colorlinks=true,
    linkcolor=tango-green-3,
    urlcolor=tango-blue-3
    ]{hyperref}


\subtitle{(( _template["patacrep.tex"].subtitle ))}
(* if _template["patacrep.tex"].version -*)
    \version{(( _template["patacrep.tex"].version ))}
(* endif *)
\mail{(( _template["patacrep.tex"].email ))}
\web{(( _template["patacrep.tex"].url ))}
\picture{(( _template["patacrep.tex"].picture ))}
\picturecopyright{(( _template["patacrep.tex"].picturecopyright ))}
\footer{(( _template["patacrep.tex"].footer ))}
(* endblock *)
