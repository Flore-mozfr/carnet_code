%! Copyright (C) 2014 The Songbook team (www.patacrep.com)
%!
%! This program is free software; you can redistribute it and/or
%! modify it under the terms of the GNU General Public License
%! as published by the Free Software Foundation; either version 2
%! of the License, or (at your option) any later version.
%!
%! This program is distributed in the hope that it will be useful,
%! but WITHOUT ANY WARRANTY; without even the implied warranty of
%! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%! GNU General Public License for more details.
%!
%! You should have received a copy of the GNU General Public License
%! along with this program; if not, write to the Free Software
%! Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
%! MA  02110-1301, USA.
%!
%! The latest version of this program can be obtained from
%! https://github.com/patacrep/


(* variables *)
{
"title": {"description": {"english": "Title", "french": "Titre"},
            "default": {"english": "Guitar songbook", "french": "Recueil de chansons pour guitare"},
            "mandatory":true
         },
"author": {"description": {"english": "Author", "french": "Auteur"},
            "default": {"english": "The Songbook Team", "french": "L'équipe Songbook"},
            "mandatory":true
         },
"subtitle": {"description": {"english": "Subtitle", "french": "Sous-titre"},
            "default": {"default": ""}
            },
"version":{ "description": {"english": "Version", "french": "Version"},
            "default": {"default": "undefined"}
         },
"web": {"description": {"english": "Website", "french": "Site web"},
         "default": {"default": "http://www.patacrep.com"}
      },
"mail": {"description": {"english": "Email", "french": "Adresse électronique"},
         "default": {"default": "crep@team-on-fire.com"}
      },
"picture": {"description": {"english": "Cover picture", "french": "Image de couverture"},
            "type": "file",
            "default": {"default": "treble_a"}
         },
"picturecopyright": {"description": {"english": "Copyright for the cover picture", "french": "Copyright pour l'image de couverture"},
                     "default": {"default": "Dbolton \\url{http://commons.wikimedia.org/wiki/User:Dbolton}"}
                  },
"footer": {"description": {"english": "Footer", "french": "Pied de page"},
           "default": {"default": "\\begin{flushright}Generated using Songbook (\\url{http://www.patacrep.com})\\end{flushright}"}
        },
"titleprefixwords": {"description": {"english": "Ignore some words in the beginning of song titles",
                                     "french": "Ignore des mots dans le classement des chansons"}
                     },
"authwords": {"descriptipn": {"english": "Set of options to process author string (LaTeX commands authsepword, authignoreword, authbyword)",
                              "french": "Options pour traiter les noms d'auteurs (commandes LaTeX authsepword, authignoreword, authbyword)"}
               }
}
(* endvariables *)

(* extends "songs.tex" *)
(* set indexes = "titleidx,authidx" *)

(* block songbookpreambule *)
   (( super() ))

  \usepackage{chords}

   \title{((title))}
   \author{((author))}
   \subtitle{((subtitle))}
   (* if version!="unknown" *)
      \version{((version))}
   (* endif *)
   \mail{((mail))}
   \web{((web))}
   \picture{((picture))}
   \picturecopyright{((picturecopyright))}
   \footer{((footer))}

   \newindex{titleidx}{((filename))_title}
   \newauthorindex{authidx}{((filename))_auth}

   (* for prefix in titleprefixwords *)
   \titleprefixwords{((prefix))}
   (* endfor*)
   (* for key in titleprefixkeys *)
      (* for word in authwords.key *)
      (* if key=="after" *)
      \authbyword{((word))}
      (* else *)
      \auth((key))word{((word))}
      (* endif *)
      (* endfor *)
   (* endfor*)
(* endblock *)

(* block title *)
\maketitle
(* endblock *)

(* block index *)
    \showindex{\songindexname}{titleidx}
    \showindex{\authorindexname}{authidx}
   (* if lang==french *)
      \notenamesin{A}{B}{C}{D}{E}{F}{G}
      \notenamesout{La}{Si}{Do}{Ré}{Mi}{Fa}{Sol}
   (* endif *)
(* endblock *)

(* block chords *)
   % list of chords
   \ifchorded
   \phantomsection
   \addcontentsline{toc}{section}{\chordlistname}
   \chords
   \fi
(* endblock *)

